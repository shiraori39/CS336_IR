{"ast":null,"code":"import*as React from\"react\";import{useState,useEffect}from'react';import{Grid,Card,CardMedia,CardContent,Typography,Container,ImageList,ImageListItem,ImageListItemBar,IconButton,Box,Modal}from'@mui/material';import{useLocation}from'react-router-dom';import{handleSearchClick}from'./InputBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Result=_ref=>{var _data$result_paths$fi;let{data}=_ref;const[selectedImage,setSelectedImage]=useState(null);const[image_data,setImageData]=useState(null);useEffect(()=>{// Your logic to handle the data changes\nconsole.log('Effect: Data changed',data);setImageData(data);},[data]);const handleImageClick=image=>{setSelectedImage(image);};const handleCloseModal=()=>{setSelectedImage(null);};if(!image_data||!image_data.result_paths||!Array.isArray(image_data.result_paths)){return null;// or handle the error in a way that makes sense for your application\n}else{console.log('Data from API: ',image_data);}const showResults=image_data.result_paths.map((item,index)=>{return/*#__PURE__*/_jsx(Box,{sx:{border:\"4px solid\",borderColor:\"white\",pointerEvents:\"all\",cursor:\"pointer\"},onClick:()=>handleImageClick(item.img),children:/*#__PURE__*/_jsxs(ImageListItem,{children:[/*#__PURE__*/_jsx(\"img\",{srcSet:item.img,src:item.img,alt:item.title,loading:\"lazy\",style:{objectFit:'cover',maxWidth:'100%',maxHeight:'100%'}}),/*#__PURE__*/_jsx(ImageListItemBar,{title:item.title,style:{opacity:\"1\",color:\"white\",fontSize:'100px'}})]})},index);});return/*#__PURE__*/_jsxs(Container,{style:{padding:\"20px\"},maxWidth:true,children:[/*#__PURE__*/_jsx(ImageList,{cols:6,rowHeight:200,sx:{overflow:\"hidden\"},children:showResults}),/*#__PURE__*/_jsx(Modal,{open:selectedImage!==null,onClose:handleCloseModal,\"aria-labelledby\":\"modal-modal-title\",\"aria-describedby\":\"modal-modal-description\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Box,{sx:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",style:{position:'absolute',top:'0',left:'0',color:'white',padding:'10px'},children:(_data$result_paths$fi=data.result_paths.find(item=>item.img===selectedImage))===null||_data$result_paths$fi===void 0?void 0:_data$result_paths$fi.title}),/*#__PURE__*/_jsx(\"img\",{src:selectedImage,alt:\"Selected Image\",style:{maxWidth:'100%',maxHeight:'100%'}})]})})})]});};export default Result;","map":{"version":3,"names":["React","useState","useEffect","Grid","Card","CardMedia","CardContent","Typography","Container","ImageList","ImageListItem","ImageListItemBar","IconButton","Box","Modal","useLocation","handleSearchClick","jsx","_jsx","jsxs","_jsxs","Result","_ref","_data$result_paths$fi","data","selectedImage","setSelectedImage","image_data","setImageData","console","log","handleImageClick","image","handleCloseModal","result_paths","Array","isArray","showResults","map","item","index","sx","border","borderColor","pointerEvents","cursor","onClick","img","children","srcSet","src","alt","title","loading","style","objectFit","maxWidth","maxHeight","opacity","color","fontSize","padding","cols","rowHeight","overflow","open","onClose","position","top","left","transform","variant","find"],"sources":["D:/Tai lieu hoc/Nhap/IR/retrieval_system/src/Components/Result.js"],"sourcesContent":["import * as React from \"react\";\r\nimport { useState, useEffect  } from 'react';\r\nimport { Grid, Card, CardMedia, CardContent, Typography, Container, ImageList, ImageListItem, ImageListItemBar, IconButton, Box, Modal} from '@mui/material';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { handleSearchClick } from './InputBar'\r\n\r\nconst Result = ({data}) => {\r\n    const [selectedImage, setSelectedImage] = useState(null);\r\n    const [image_data, setImageData] = useState(null);\r\n    \r\n    useEffect(() => {\r\n        // Your logic to handle the data changes\r\n        console.log('Effect: Data changed', data);\r\n        setImageData(data);\r\n      }, [data]);\r\n\r\n    const handleImageClick = (image) => {\r\n        setSelectedImage(image);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setSelectedImage(null);\r\n    };\r\n\r\n    if (!image_data || !image_data.result_paths || !Array.isArray(image_data.result_paths)) {\r\n      return null; // or handle the error in a way that makes sense for your application\r\n    }\r\n    else\r\n    {\r\n        console.log('Data from API: ', image_data);\r\n    }\r\n\r\n    const showResults = image_data.result_paths.map((item, index) => {\r\n        return (\r\n            <Box\r\n                key={index}\r\n                sx={{\r\n                    border: \"4px solid\",\r\n                    borderColor: \"white\",\r\n                    pointerEvents: \"all\",\r\n                    cursor: \"pointer\",\r\n                }}\r\n                onClick={() => handleImageClick(item.img)}\r\n            >\r\n                <ImageListItem>\r\n                    <img\r\n                        srcSet={item.img}\r\n                        src={item.img}\r\n                        alt={item.title}\r\n                        loading=\"lazy\"\r\n                        style={{\r\n                          objectFit: 'cover',\r\n                          maxWidth: '100%',\r\n                          maxHeight: '100%',\r\n                        }}\r\n                    />\r\n                    <ImageListItemBar\r\n                        title={item.title}\r\n                        style={{\r\n                          opacity: \"1\",\r\n                          color: \"white\",\r\n                          fontSize: '100px'\r\n                        }}\r\n                    />\r\n                </ImageListItem>\r\n                \r\n                \r\n            </Box>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <Container style={{ padding: \"20px\" }} maxWidth={true}>\r\n            <ImageList cols={6} rowHeight={200} sx={{ overflow: \"hidden\"}}>\r\n                {showResults}\r\n            </ImageList>\r\n\r\n            {/* Modal hiển thị ảnh phóng to */}\r\n            <Modal\r\n                open={selectedImage !== null}\r\n                onClose={handleCloseModal}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <div>\r\n                    <Box\r\n                        sx={{\r\n                            position: 'absolute',\r\n                            top: '50%',\r\n                            left: '50%',\r\n                            transform: 'translate(-50%, -50%)',\r\n                        }}\r\n                    >\r\n                        <Typography variant=\"h6\" style={{ position: 'absolute', top: '0', left: '0', color: 'white', padding: '10px' }}>\r\n                            {data.result_paths.find(item => item.img === selectedImage)?.title}\r\n                        </Typography>\r\n                        <img\r\n                            src={selectedImage}\r\n                            alt=\"Selected Image\"\r\n                            style={{ maxWidth: '100%', maxHeight: '100%' }}\r\n                        />\r\n                    </Box>\r\n                </div>\r\n            </Modal>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Result;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}